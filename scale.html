<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3:Adding dynamic color, based on data</title>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.js"></script>
		<style type="text/css">
		</style>
	</head>
	<body>
		<script type="text/javascript">
			var w = 500;
			var h = 100;
			var barPadding = 1;

			var dataset = [ 
							[5,20],[480,90],[255,50],[100,33],[330,95],
								[410,12],[472,44],[25,67],[85,21],[220,88]
						  ];

			var svg = d3.select("body")
						.append("svg")
						.attr("width",w+500)
						.attr("height",h+200);
			svg.selectAll("circle")
				.data(dataset)
				.enter()
				.append("circle")
				.attr("cx",function(d) {
					return d[0]+10;
				})
				.attr("cy",function(d){
					return d[1]+30;
				})
				.attr("r",function(d){
						return Math.sqrt(h-d[1]);
				});
				
				svg.selectAll("text")
					.data(dataset)
					.enter()
					.append("text")
					.text(function(d) {
						return d[0]+" , "+d[1];
					})
					.attr("x",function(d,i) {
						return d[0]+10;
					})
					.attr("y",function(d) {
						return d[1]+20;
					})
					.attr("font-family","sans-serif")
					.attr("font-size","11px")
					.attr("fill","red");
		</script>
	</body>
</html>
